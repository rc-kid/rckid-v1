{
    "tasks": [
        // builds the avr part of rcboy locally
        {
            "label": "avr-i2c-bootloader-build",
            "type": "shell",
            "command": "~/.platformio/penv/bin/pio",
            "args": [
                "run", "-v"
            ],
            "options": {
                "cwd": "${workspaceFolder}/avr-i2c-bootloader",
                "shell": {
                    "executable" : "/bin/zsh",
                    "args": ["-c"]
                }
            },
            "problemMatcher": [
                "$platformio"
            ]
        },
        // uploads the avr bootloader via UPDI
        {
            "label": "avr-i2c-bootloader-upload",
            "command": "bash",
            "args": [
                "bin/avr-i2c-bootloader-upload.sh",
            ],
            "options": {
                "cwd": "",
            },
            "problemMatcher": [
                "$platformio"
            ]
        },
        {
            "label": "i2c-programmer-build",
            "command": "bash",
            "args": [
                "bin/i2c-programmer-build.sh",
            ],
            "options": {
                "cwd": "",
            },
            "problemMatcher": [
                "$gcc"
            ]
        },


        // builds the avr part of rcboy locally
        {
            "label": "rcboy-avr",
            "type": "shell",
            "command": "~/.platformio/penv/bin/pio",
            "args": [
                "run",
            ],
            "options": {
                "cwd": "${workspaceFolder}/rcboy/avr",
                "shell": {
                    "executable" : "/bin/zsh",
                    "args": ["-c"]
                }
            },
            "problemMatcher": [
                "$platformio"
            ]
        },
        // uploads the avr part of rcboy to the rpi, builds and flashes the avr
        {
            "label": "rcboy-avr-upload",
            "command": "bash",
            "args": [
                "bin/rcboy-avr-upload.sh",
            ],
            "options": {
                "cwd": "",
            },
            "problemMatcher": [
                "$platformio"
            ]
        },
        // uploads the rcboy rpi code and builds it on the device
        {
            "label": "rcboy-build",
            "command": "bash",
            "args": [
                "bin/rcboy-build.sh",
            ],
            "options": {
                "cwd": "",
            },
            "problemMatcher": [
                "$gcc"
            ]
        },
        // locally builds the lego remote avr program
        {
            "label": "lego-remote",
            "type": "shell",
            "command": "~/.platformio/penv/bin/pio",
            "args": [
                "run",
            ],
            "options": {
                "cwd": "${workspaceFolder}/lego-remote",
                "shell": {
                    "executable" : "/bin/zsh",
                    "args": ["-c"]
                }
            },
            "problemMatcher": [
                "$platformio"
            ]
        },
        // locally builds the lego remote avr program and flashes it to the chip using the rpi dev server and pio remote
        {
            "label": "lego-remote-upload",
            "type": "shell",
            "command": "~/.platformio/penv/bin/pio",
            "args": [
                "remote",
                "run",
                "--target",
                "upload"
            ],
            "options": {
                "cwd": "${workspaceFolder}/lego-remote",
                "shell": {
                    "executable" : "/bin/zsh",
                    "args": ["-c"]
                }
            },
            "problemMatcher": [
                "$platformio"
            ]
        },
        // locally builds the radio test receiver for range and compatibility testing
//        {
//            "label": "test-radio",
//            "type": "shell",
//            "command": "~/.platformio/penv/bin/pio",
//            "args": [
//                "run",
//            ],
//            "options": {
//                "cwd": "test-radio",
//                "shell": {
//                    "executable" : "/bin/zsh",
//                    "args": ["-c"]
//                }
//            },
//            "problemMatcher": [
//                "$platformio"
//            ]
//        },
        // locally builds the radio test receiver test and flashes it to the chip using the rpi dev server and pio remote
//        {
//            "label": "test-radio-upload",
//            "type": "shell",
//            "command": "~/.platformio/penv/bin/pio",
//            "args": [
//                "remote",
//                "run",
//                "--target",
//                "upload"
//            ],
//            "options": {
//                "cwd": "test-radio",
//                "shell": {
//                    "executable" : "/bin/zsh",
//                    "args": ["-c"]
//                }
//            },
//            "problemMatcher": [
//                "$platformio"
//            ]
//        },
    ],
    "version": "2.0.0"
}
